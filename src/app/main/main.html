<md-content>
<div layout="row">
  <div layout="column">
    <md-sidenav
      class="md-sidenav-left"
      md-is-locked-open="vm.openNav"
      md-whiteframe="4">
      <md-button ng-click="vm.createCategory($event)">
        create new category
      </md-button>
      <md-list class="md-dense" flex>
        <md-list-item class="md-2-line" ng-repeat="item in vm.categories" ng-click="vm.showCat($index)">
          <div class="md-list-item-text" layout="column">
            <p>{{item.label}}</p>
          </div>
          <md-button class="md-secondary md-icon-button" ng-click="vm.deleteCat($index)">
            <i class="material-icons">delete</i>
          </md-button>
        </md-list-item>
      </md-list>
    </md-sidenav>
  </div>
  <div layout="column" flex>

    <md-toolbar>
      <div class="md-toolbar-tools">


        <md-input-container >
          <md-checkbox ng-model="data.cb1" aria-label="Checkbox 1">
            Hashtag
          </md-checkbox>

          <input ng-model="vm.searchString" placeholder="enter search" style="margin-top:15px;margin-left:15px;">
        </md-input-container>

        <md-button class="md-secondary md-icon-button" ng-click="">
          <i class="material-icons">cancel</i>
        </md-button>
        <md-button class="md-secondary md-icon-button" ng-click="vm.search()">
          <i class="material-icons">search</i>
        </md-button>


      </div>


    </md-toolbar>
    <md-tabs md-dynamic-height md-border-bottom md-selected="vm.tweetsType">
      <md-tab label="Search Results" flex>
        <md-content>
          <md-list flex>
            <md-list-item ng-repeat="tweet in vm.tweetList">

              <img ng-src="{{tweet.face}}" class="md-avatar"/>
              <div class="md-list-item-text">
                <h3>{{tweet.name}} {{tweet.id}}</h3>
                <p>{{tweet.text}}</p>
              </div>
              <div layout="row" layout-align="center center" class="md-secondary">
                <div class="catlabel" ng-if="vm.categories[tweet.category]"> {{vm.categories[tweet.category].label}}
                </div>


                <md-menu>
                  <md-button class="md-icon-button">
                    <md-tooltip md-direction="left">
                      add to category
                    </md-tooltip>
                    <i class="material-icons">add</i>
                  </md-button>
                  <md-menu-content width="6">
                    <md-menu-item ng-repeat="item in vm.categories">
                      <md-button ng-click="vm.catclick($parent.$index,$index)">
                        <md-icon md-menu-align-target md-svg-icon="call:no-sim"></md-icon>
                        {{item.label}}
                      </md-button>
                    </md-menu-item>
                    <md-menu-item>
                      <i class="material-icons">add</i>
                      <md-button ng-click="vm.createCategory($event,$parent.$index,$index)">
                        create new category
                      </md-button>
                    </md-menu-item>
                  </md-menu-content>
                </md-menu>
              </div>

            </md-list-item>

          </md-list>
        </md-content>
      </md-tab>
      <md-tab ng-if="vm.selectedCat" label="Category: {{vm.selectedCat}}" flex>
        <md-content class="md-padding">
          <md-list flex>
            <md-list-item ng-repeat="tweet in vm.catTweetList | filter:{ category: vm.selectedCatIndex}">
              <img ng-src="{{tweet.face}}" class="md-avatar"/>
              <div class="md-list-item-text">
                <h3>{{tweet.name}} {{tweet.id}}</h3>
                <p>{{tweet.text}}</p>
              </div>
              <div layout="row" layout-align="center center" class="md-secondary">
                <md-button class="md-secondary md-icon-button" ng-click="vm.removeTweet(tweet.id)">
                  <i class="material-icons">delete</i>
                </md-button>
              </div>
            </md-list-item>

          </md-list>
        </md-content>
      </md-tab>

    </md-tabs>

  </div>
</div>
</md-content>
